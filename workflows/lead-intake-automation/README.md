# Lead Intake & Notification Automation

This workflow automates the process of capturing leads from a web form or webhook, validating the data, storing it in a structured format, and notifying your team in real time.

It’s designed to be **simple to configure** and **easy to extend**, so it can fit into small landing pages, basic CRMs, or more complex sales funnels.

---

## Use cases

- Landing page form → Google Sheets + Telegram/Slack notification  
- Contact form on website → structured lead list + email alert  
- Lead capture from external tools (e.g. Typeform, Webflow, custom frontend)

---

## Workflow overview

The workflow typically follows these steps:

1. **Trigger – Webhook**
   - Receives incoming lead data from a form or external service.
   - Expected fields: `name`, `email`, `source`, `message` (can be customized).

2. **Validation & Normalization (Function node)**
   - Trims strings, normalizes email to lowercase.
   - Optionally checks for missing or invalid fields.
   - Can drop or flag leads that do not pass basic validation.

3. **(Optional) Spam / filter branch**
   - Simple rules (e.g. disposable domains, blacklisted sources).
   - Spam leads can be written to a separate log or ignored.

4. **Store Lead – Google Sheets / DB**
   - Appends a new row to a “Leads” sheet or inserts into a database.
   - Typical columns:
     - `Timestamp`
     - `Name`
     - `Email`
     - `Source`
     - `Message`

5. **Notify – Telegram / Slack / Email**
   - Sends a real-time message to your channel / chat / inbox.
   - Example notification:
     > `New lead from Landing Page: John Doe (john@example.com) – "Message text..."`

6. **(Optional) Logging**
   - A final node to log the execution result or errors for debugging.

---

## Inputs

### Webhook payload

The workflow expects an HTTP POST (JSON or form-data) with at least:

- `name` – string, lead’s name  
- `email` – string, lead’s email  
- `source` – string, where the lead comes from (e.g. `"Landing Page"`, `"Contact form"`)  
- `message` – string, free text message from the user

You can adjust field names in the mapping nodes if your frontend sends different keys.

---

## Outputs

1. **Stored lead record**
   - A new entry in the target storage (Google Sheets or DB), including:
     - Timestamp (generated by the workflow)
     - Name
     - Email
     - Source
     - Message

2. **Real-time notification**
   - Telegram / Slack / Email notification containing:
     - Lead’s name and email
     - Source
     - Message excerpt

3. **Execution log (optional)**
   - Log entries in n8n for successful runs and errors.

---

## Setup & configuration

1. **Import the workflow**
   - In n8n, click **Import** and select `lead-intake-automation.json`.

2. **Configure credentials**
   - **Google Sheets** (or your chosen storage)
   - **Telegram / Slack / Email** credentials for notifications

3. **Create storage**
   - For Google Sheets:
     - Create a sheet, e.g. `Leads`
     - Add headers: `Timestamp`, `Name`, `Email`, `Source`, `Message`
     - Configure the node to point to this sheet

4. **Set webhook URL**
   - Copy the webhook URL from the trigger node (Production or Test URL).
   - Configure your form / frontend to POST lead data to that URL.

5. **Test**
   - Send a test submission (e.g. via Postman, curl, or your form).
   - Verify:
     - one new row in the sheet
     - notification received in the chosen channel

---

## Customization ideas

- Add additional fields: phone, company, budget, etc.
- Add a second notification channel (e.g. email + Telegram).
- Push leads directly into a CRM instead of Google Sheets.
- Add basic scoring (e.g. based on source or keywords in the message).
- Implement better spam detection (e.g. via external API or regex rules).

---

## Notes

This workflow is intentionally kept **simple but production-oriented**:
- clear validation step  
- centralized mapping of input → storage  
- explicit notification stage  

It’s a good template for any “form → storage → notify the team” use case.